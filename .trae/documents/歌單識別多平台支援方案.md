將擴展歌單識別模組以支援 Spotify、QQ 音樂和 Apple Music。由於這些平台機制不同，我們將採用「適配器模式」重構現有代碼。

### 1. 系統架構重構
- 建立 `lib/platforms/` 目錄，將不同平台的處理邏輯分離：
  - `netease.ts`: 遷移現有的網易雲音樂邏輯。
  - `spotify.ts`: 新增 Spotify API 處理邏輯。
  - `qqmusic.ts`: 新增 QQ 音樂網頁解析邏輯。
  - `applemusic.ts`: 新增 Apple Music 網頁解析邏輯。
- 修改 `app/api/playlist/route.ts` 作為統一入口，根據網址域名分發請求到對應的處理器。

### 2. 各平台實現細節

#### 🟢 Spotify (官方 API)
- **機制**：使用 Client Credentials Flow（無需用戶登錄）。
- **需求**：需要您提供 `SPOTIFY_CLIENT_ID` 和 `SPOTIFY_CLIENT_SECRET`（我會提供預設或指導您獲取）。
- **流程**：
  1. 請求 Spotify Token API 獲取 Access Token。
  2. 調用 `/v1/playlists/{id}` 獲取歌單詳情。
  3. 映射數據為標準格式。

#### 🟡 QQ 音樂 (網頁解析)
- **機制**：直接請求歌單頁面，解析內嵌的 JSON 數據。
- **流程**：
  1. 支援桌面端 (`y.qq.com`) 和手機分享連結 (`i.y.qq.com`)。
  2. 獲取 HTML 後，使用正則表達式提取 `window.__INITIAL_DATA__` 或 `firstPageData`。
  3. 解析 JSON 獲取歌單名稱、封面及曲目列表。

#### 🔴 Apple Music (網頁解析)
- **機制**：解析公開頁面的元數據（無需開發者帳號）。
- **流程**：
  1. 請求 `music.apple.com` 歌單頁面。
  2. 提取 `<script id="serialized-server-data">` 中的 JSON 數據。
  3. 解析並標準化歌曲資訊。

### 3. 前端更新
- 更新 `app/albums/page.tsx` 中的連結提取邏輯，支援識別上述三個平台的主流域名。
- 優化錯誤提示，當識別失敗時告知具體是不支援的平台還是連結無效。

### 4. 依賴變更
- **無新增 NPM 依賴**：我們將使用原生 `fetch` 和正則表達式處理 HTML 解析，避免增加專案體積。
- **環境變數**：需要您在 `.env.local` 中添加 Spotify 的密鑰（若無密鑰，Spotify 功能將無法使用，但不影響其他平台）。

### 5. 測試驗證
- 我將為每個平台編寫單元測試函數（存放於 `lib/platforms/__tests__` 或同級測試文件中），確保解析邏輯正確。
